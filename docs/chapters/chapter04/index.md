---
layout: book
order: 6
title: "第4章：ノード/ランタイム運用"
---
# 第4章：ノード/ランタイム運用

ノードはワークロードの実行基盤であり、kubelet とコンテナランタイム（例: containerd）を含みます。  
本章では、ノードのライフサイクル管理と、ランタイム運用の論点を整理します。

## 学習目標
- Node の障害モード（NotReady、ディスク逼迫、OOM 等）と切り分け観点を説明できる
- ノード保守（パッチ、ドレイン、置き換え）の標準手順を定義できる
- ランタイム運用（イメージ、ログ、GC）の観点を整理できる

## 扱う範囲 / 扱わない範囲

### 扱う範囲
- kubelet の運用観点（状態監視、ログ、再起動、設定変更）
- containerd/CRI-O 等の運用観点（イメージ管理、ログ、GC）
- ノード保守（cordon/drain、ロールアウト、キャパシティ管理）
- ノードプール設計（ラベル/taint、分離の入口）

### 扱わない範囲
- OS チューニングの網羅（カーネルパラメータ等）
- 特定ディストリビューションの詳細手順

## ノード運用の論点
- キャパシティ管理: CPU/メモリ/ディスク/Pod 数、IP 枯渇
- 保守: パッチ適用、再起動、置き換え（Immutable/AutoScaling との関係）
- 変更の安全性: drain、PDB、段階的な更新
- 観測性: Node/Runtime のメトリクス、ログ、イベントの集約

## 実務チェック観点（最低5項目）
- Node NotReady/ディスク逼迫/メモリ逼迫を早期検知する監視がある
- ノード保守手順（cordon/drain/置き換え）が Runbook 化されている
- ランタイムのイメージ GC/ログローテの運用方針がある
- ノードプール分離（重要系/汎用、GPU 等）が要件に基づき定義されている
- 障害時の暫定復旧（退避、隔離、スケールアウト）の判断基準がある

## よくある落とし穴
- ノード保守が属人化し、手順/証跡が残らない
- ログ/イメージの肥大化でディスク逼迫が常態化する

## まとめ / 次に読む
- 次に読む: 第5章：ネットワーク設計と運用（/chapters/chapter05/）
