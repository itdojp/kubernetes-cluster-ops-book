# 第5章：ネットワーク設計と運用

ネットワークは到達性・隔離・性能に直結し、運用中のトラブルシュート比率が高い領域です。  
本章では、CNI/Service/Ingress/DNS を中心に、設計と運用の論点を整理します。

## 学習目標
- CNI の役割と、設計上の主要なトレードオフを説明できる
- DNS/Service/Ingress の障害を切り分ける観点を整理できる
- NetworkPolicy を導入する際の運用前提を理解する

## 扱う範囲 / 扱わない範囲

### 扱う範囲
- CNI（IPAM、到達性、ポリシー対応）の論点
- Service/Ingress の運用観点（外部公開、ヘルスチェック、TLS の入口）
- DNS（CoreDNS）の運用観点
- NetworkPolicy の入口（設計前提と運用）

### 扱わない範囲
- ベンダ固有の LB 実装の詳細
- サービスメッシュの詳細設計

## 実務チェック観点（最低5項目）
- IP 設計（Pod/Service CIDR、IP 枯渇）の監視と拡張方針がある
- DNS（CoreDNS）の健全性（失敗率/レイテンシ）を監視している
- 外部公開（Ingress/LB）の責任範囲、証明書管理、変更手順が定義されている
- NetworkPolicy 導入時の段階的ロールアウト手順（deny 既定化の判断）がある
- 典型障害（DNS 不調、到達不可、TLS 失敗）の Playbook が整備されている

## よくある落とし穴
- IP 枯渇が顕在化してから対応し、影響範囲が大きくなる
- DNS 障害をアプリ障害と誤判定し、復旧が遅れる

## まとめ / 次に読む
- 次に読む: 第6章：ストレージ設計と運用（/chapters/chapter06/）
